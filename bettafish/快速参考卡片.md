# BettaFish å¿«é€Ÿå‚è€ƒå¡ç‰‡

> æ‰“å°å‡ºæ¥è´´åœ¨ç”µè„‘æ—ï¼Œéšæ—¶æŸ¥é˜…ï¼

---

## ğŸš€ ä¸€é”®éƒ¨ç½²ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰

```bash
cd ~/Downloads/BettaFish-Deployment-Kit
chmod +x docker-deploy.sh
./docker-deploy.sh
```

**æŒ‰æç¤ºè¾“å…¥ï¼š**
1. ä¸» API å¯†é’¥ï¼ˆå¿…å¡«ï¼‰
2. Tavily å¯†é’¥ï¼ˆæ¨èï¼‰
3. é€‰æ‹©é•œåƒæºï¼ˆç›´æ¥å›è½¦ç”¨æ¨èï¼‰

---

## ğŸŒ è®¿é—®åœ°å€

| æœåŠ¡ | åœ°å€ | ç”¨é€” |
|------|------|------|
| **ä¸»æœåŠ¡** | http://localhost:5001 | ç»¼åˆåŠŸèƒ½ï¼ˆæ¨èï¼‰ |
| Insight Engine | http://localhost:8501 | æ·±åº¦åˆ†æ |
| Media Engine | http://localhost:8502 | åª’ä½“å¤„ç† |
| Query Engine | http://localhost:8503 | å¿«é€Ÿé—®ç­” |

---

## âš™ï¸ æ—¥å¸¸æ“ä½œå‘½ä»¤

### å¯åŠ¨æœåŠ¡
```bash
cd ~/Downloads/BettaFish-Deployment-Kit/BettaFish-main
docker-compose up -d
```
â±ï¸ ç­‰å¾… 30 ç§’åè®¿é—®

### åœæ­¢æœåŠ¡
```bash
cd ~/Downloads/BettaFish-Deployment-Kit/BettaFish-main
docker-compose stop
```

### æŸ¥çœ‹çŠ¶æ€
```bash
cd ~/Downloads/BettaFish-Deployment-Kit/BettaFish-main
docker-compose ps
```
âœ… æ­£å¸¸æ˜¾ç¤ºï¼š`Up X minutes`

### æŸ¥çœ‹æ—¥å¿—
```bash
cd ~/Downloads/BettaFish-Deployment-Kit/BettaFish-main
docker-compose logs -f bettafish
```
æŒ‰ `Ctrl + C` é€€å‡º

### é‡å¯æœåŠ¡
```bash
cd ~/Downloads/BettaFish-Deployment-Kit/BettaFish-main
docker-compose restart
```

---

## ğŸ”§ å¸¸è§é—®é¢˜å¿«é€Ÿè§£å†³

| é—®é¢˜ | è§£å†³æ–¹æ³• |
|------|----------|
| ğŸ”´ æ— æ³•è®¿é—® | 1. æ£€æŸ¥ Docker æ˜¯å¦è¿è¡Œ<br>2. ç­‰å¾… 30 ç§’<br>3. è¿è¡Œ `docker-compose ps` |
| ğŸ”´ ç«¯å£è¢«å ç”¨ | é‡æ–°è¿è¡Œ `./docker-deploy.sh` |
| ğŸ”´ ä¸‹è½½å¤±è´¥ | æ¢é•œåƒæºæˆ–æ£€æŸ¥ç½‘ç»œ |
| ğŸ”´ æœåŠ¡å¼‚å¸¸ | è¿è¡Œ `docker-compose restart` |
| ğŸ”´ API é”™è¯¯ | æ£€æŸ¥å¯†é’¥æ˜¯å¦æ­£ç¡® |

---

## ğŸ“Š ç³»ç»Ÿæ£€æŸ¥å‘½ä»¤

### æ£€æŸ¥ Docker çŠ¶æ€
```bash
docker --version
docker ps
```

### æ£€æŸ¥ç«¯å£å ç”¨
```bash
# macOS/Linux
lsof -i :5001

# æŸ¥çœ‹æ‰€æœ‰ç›¸å…³ç«¯å£
lsof -i :5001 -i :8501 -i :8502 -i :8503
```

### æ£€æŸ¥ç£ç›˜ç©ºé—´
```bash
df -h
```

### æ£€æŸ¥å†…å­˜ä½¿ç”¨
```bash
# macOS
top

# Linux
free -h
```

---

## ğŸ—‘ï¸ æ¸…ç†å’Œç»´æŠ¤

### æ¸…ç† Docker ç¼“å­˜
```bash
# æ¸…ç†æœªä½¿ç”¨çš„é•œåƒ
docker image prune -a

# æ¸…ç†æœªä½¿ç”¨çš„å®¹å™¨
docker container prune

# æ¸…ç†æ‰€æœ‰æœªä½¿ç”¨èµ„æº
docker system prune -a
```

### å®Œå…¨å¸è½½
```bash
cd ~/Downloads/BettaFish-Deployment-Kit/BettaFish-main
docker-compose down -v
docker rmi ghcr.io/666ghj/bettafish:latest
docker rmi registry.cn-hangzhou.aliyuncs.com/library/postgres:15-alpine
cd ~
rm -rf ~/Downloads/BettaFish-Deployment-Kit
```

---

## ğŸ”„ æ›´æ–°åˆ°æœ€æ–°ç‰ˆ

```bash
cd ~/Downloads/BettaFish-Deployment-Kit
./docker-deploy.sh
# é€‰æ‹© "Y" ä½¿ç”¨ç°æœ‰é…ç½®
```

---

## ğŸ“ é‡è¦æ–‡ä»¶ä½ç½®

| æ–‡ä»¶/ç›®å½• | ä½ç½® | è¯´æ˜ |
|-----------|------|------|
| é…ç½®æ–‡ä»¶ | `BettaFish-main/.env` | API å¯†é’¥ç­‰é…ç½® |
| æ•°æ®åº“ | `BettaFish-main/db_data/` | å¯¹è¯å†å² |
| æ—¥å¿— | `logs/` | éƒ¨ç½²æ—¥å¿— |
| å¤‡ä»½ | `backups/` | é…ç½®å¤‡ä»½ |
| æŠ¥å‘Š | `final_reports/` | ç”Ÿæˆçš„æŠ¥å‘Š |

---

## ğŸ†˜ ç´§æ€¥é—®é¢˜å¤„ç†

### æœåŠ¡æ— å“åº”
```bash
# å¼ºåˆ¶é‡å¯
cd ~/Downloads/BettaFish-Deployment-Kit/BettaFish-main
docker-compose down
docker-compose up -d
```

### Docker æ— æ³•å¯åŠ¨
```bash
# macOS: é‡å¯ Docker Desktop
# æˆ–è€…é‡å¯ç”µè„‘
```

### é…ç½®æŸå
```bash
# æ¢å¤å¤‡ä»½
cd ~/Downloads/BettaFish-Deployment-Kit
cp backups/docker-compose_backup_æœ€æ–°æ—¶é—´.yml BettaFish-main/docker-compose.yml
```

### æ•°æ®åº“é—®é¢˜
```bash
# é‡ç½®æ•°æ®åº“ï¼ˆä¼šæ¸…ç©ºæ•°æ®ï¼ï¼‰
cd ~/Downloads/BettaFish-Deployment-Kit/BettaFish-main
docker-compose down -v
rm -rf db_data/
docker-compose up -d
```

---

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. åå°è¿è¡Œ
```bash
# å¯åŠ¨åå…³é—­ç»ˆç«¯ä¹Ÿèƒ½è¿è¡Œ
docker-compose up -d
```

### 2. å®æ—¶ç›‘æ§
```bash
# å®æ—¶æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

### 3. æ€§èƒ½ä¼˜åŒ–
```bash
# é™åˆ¶å†…å­˜ä½¿ç”¨ï¼ˆåœ¨ docker-compose.yml ä¸­æ·»åŠ ï¼‰
mem_limit: 4g
```

### 4. å®šæ—¶å¤‡ä»½æ•°æ®åº“
```bash
# åˆ›å»ºå¤‡ä»½è„šæœ¬
cat > backup.sh << 'EOF'
#!/bin/bash
DATE=$(date +%Y%m%d_%H%M%S)
docker exec bettafish-db pg_dump -U bettafish bettafish > backup_$DATE.sql
EOF
chmod +x backup.sh
```

---

## ğŸ“ è·å–å¸®åŠ©

### æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£
```bash
cd ~/Downloads/BettaFish-Deployment-Kit
open å°ç™½ç”¨æˆ·ä½¿ç”¨æŒ‡å—.md
open docs/guides/å¿«é€Ÿå¼€å§‹æŒ‡å—.md
```

### åœ¨çº¿æ”¯æŒ
- GitHub Issues: æŠ¥å‘Šé—®é¢˜
- GitHub Discussions: ç¤¾åŒºäº¤æµ

---

## ğŸ¯ è®°ä½è¿™äº›ï¼

âœ… **å¯åŠ¨å‰æ£€æŸ¥**ï¼šDocker å·²å¯åŠ¨
âœ… **é¦–æ¬¡è®¿é—®**ï¼šç­‰å¾… 30-60 ç§’
âœ… **å®šæœŸç»´æŠ¤**ï¼šæ¸…ç† Docker ç¼“å­˜
âœ… **å¤‡ä»½é‡è¦**ï¼šå®šæœŸå¤‡ä»½æ•°æ®åº“
âœ… **æ›´æ–°åŠæ—¶**ï¼šå…³æ³¨æ–°ç‰ˆæœ¬å‘å¸ƒ

---

**æœ€é‡è¦çš„å‘½ä»¤ï¼ˆè®°ä½è¿™ä¸ªå°±å¤Ÿäº†ï¼‰ï¼š**

```bash
cd ~/Downloads/BettaFish-Deployment-Kit/BettaFish-main && docker-compose up -d
```

ç„¶åè®¿é—®ï¼šhttp://localhost:5001

**å°±è¿™ä¹ˆç®€å•ï¼** ğŸ‰
